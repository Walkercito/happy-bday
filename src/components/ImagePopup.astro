---
interface Props {
  imageSrc?: string;
}

const { imageSrc } = Astro.props;
---

<div id="image-popup-overlay" class="hidden fixed inset-0 bg-black/65 flex items-center justify-center z-50">
  <div id="image-popup-card" class="bg-transparent rounded-xl p-2 inline-flex items-center justify-center">
    {imageSrc ? (
      <img
        src={imageSrc}
        alt="Celebration"
        class="max-w-[80vw] max-h-[80vh] rounded-lg shadow-[0_10px_30px_rgba(0,0,0,0.6)]"
      />
    ) : (
      <div class="text-white text-xl p-6">
        ðŸŽ‰ Â¡Felicidades! ðŸŽ‰
      </div>
    )}
  </div>
</div>

<script>
  const overlay = document.getElementById('image-popup-overlay');
  const card = document.getElementById('image-popup-card');

  window.showImagePopup = () => {
    if (!overlay || !card) return;

    overlay.classList.remove('hidden');
    card.classList.add('animate-tada');
  };

  overlay?.addEventListener('click', () => {
    overlay.classList.add('hidden');
    card?.classList.remove('animate-tada');
  });

  card?.addEventListener('click', (e) => {
    e.stopPropagation();
  });
</script>
